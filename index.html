<!DOCTYPE html>
<html>
<head>
    <title>Apertura de cámara y vista previa</title>
</head>
<body>
    <button id="openCameraBtn">Abrir cámara</button>
    <video id="cameraPreview" style="display: none;"></video>
    <script>
        // Obtener elementos del DOM
        const openCameraBtn = document.getElementById('openCameraBtn');
        const cameraPreview = document.getElementById('cameraPreview');

        // Evento click en el botón para abrir la cámara
        openCameraBtn.addEventListener('click', () => {
            openCamera();
        });

        // Función para abrir la cámara
        function openCamera() {
            // Verificar si el navegador es compatible con getUserMedia
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                // Solicitar permiso para acceder a la cámara
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then((stream) => {
                        // Mostrar la vista previa de la cámara en un elemento de video
                        cameraPreview.srcObject = stream;
                        cameraPreview.style.display = 'block';
                    })
                    .catch((error) => {
                        console.error('Error al acceder a la cámara:', error);
                    });
            } else {
                console.error('La API MediaDevices no es compatible con este navegador.');
            }
        }
    </script>
</body>
</html>